import os
from dotenv import load_dotenv
from cryptography.fernet import Fernet

load_dotenv()

class Config:
    """–ö–ª–∞—Å—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
    
    # ======================
    #  –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram
    # ======================
    TELEGRAM_TOKEN = os.getenv("TELEGRAM_TOKEN")
    
    # ======================
    #  –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    # ======================
    DB_NAME = os.getenv("DB_NAME", "users.db")
    SQL_ECHO = False  # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
    
    # ======================
    #  –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    # ======================
    CIPHER_KEY = Fernet.generate_key()
    OTP_TIMEOUT = 300  # 5 –º–∏–Ω—É—Ç
    
    # ======================
    #  –°–æ—Å—Ç–æ—è–Ω–∏—è ConversationHandler
    # ======================
    (
        GDPR_CONSENT,       # 0 - –°–æ–≥–ª–∞—Å–∏–µ —Å GDPR
        PHONE_INPUT,        # 1 - –í–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        OTP_VERIFICATION,   # 2 - –ü—Ä–æ–≤–µ—Ä–∫–∞ OTP
        FULL_NAME,          # 3 - –í–≤–æ–¥ –§–ò–û
        CITY,               # 4 - –í–≤–æ–¥ –≥–æ—Ä–æ–¥–∞
        CONNECTIONS,        # 5 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏
        MAIN_MENU,          # 6 - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
        PROFILE_EDITING,    # 7 - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
        SEARCH_FILTERS,     # 8 - –í—ã–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞
        SEARCH_LOCATION_INPUT,  # 9 - –í–≤–æ–¥ –ª–æ–∫–∞—Ü–∏–∏
        SEARCH_SKILLS_INPUT,    # 10 - –í–≤–æ–¥ –Ω–∞–≤—ã–∫–æ–≤
        SEARCH_RESULTS,     # 11 - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
        VIEW_PROFILE,       # 12 - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
        PROFILE_EDITING_NAME,   # 13 - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏
        PROFILE_EDITING_CITY,   # 14 - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
    ) = range(15)

    # ======================
    #  –¢–µ–∫—Å—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
    # ======================
    GDPR_TEXT = """üìú *GDPR-—Å–æ–≥–ª–∞—à–µ–Ω–∏–µ*
    
–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è:
- –ü–æ–∏—Å–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∞–∫–∫–∞—É–Ω—Ç–∞"""

    MENU_TEXTS = {
        'main': "üè† *–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é*",
        'profile': "üë§ *–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å*",
        'search': "üîç *–ü–æ–∏—Å–∫ —Å–≤—è–∑–µ–π*",
        'connections': "üì® *–ú–æ–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*"
    }

    # ======================
    #  –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
    # ======================
    GEOCODING_LANGUAGE = "ru"  # –Ø–∑—ã–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    SEARCH_RADIUS = 50  # –†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ –≤ –∫–º
    
    # ======================
    #  Redis –∏ –ª–∏–º–∏—Ç—ã
    # ======================
    REDIS_URL = os.getenv("REDIS_URL", "redis://localhost:6379/0")
    SEARCH_RESULTS_LIMIT = 50  # –ú–∞–∫—Å. —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞